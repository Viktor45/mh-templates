# === –û–°–ù–û–í–ù–´–ï –ü–ê–†–ê–ú–ï–¢–†–´ ===
allow-lan: true
mode: rule
log-level: $LOG_LEVEL
ipv6: $IPV6
unified-delay: true 
external-controller: $EXTERNAL_CONTROLLER_ADDRESS:$UI_PORT
external-ui: $EXTERNAL_UI_PATH
external-ui-url: $EXTERNAL_UI_URL
secret: $UI_SECRET

# === –ü–†–û–§–ò–õ–¨ ===
#profile:
#  store-selected: true

# === SNIFFER (–∞–Ω–∞–ª–∏–∑ —Ç—Ä–∞—Ñ–∏–∫–∞) ===
sniffer:
  enable: true
  parse-pure-ip: true
  force-dns-mapping: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]

# === DNS –ù–ê–°–¢–†–û–ô–ö–ò ===
dns:
  enable: $DNS_ENABLE
#  prefer-h3: true
#  use-hosts: true
  use-system-hosts: $DNS_USE_SYSTEM_HOSTS
#  listen: 127.0.0.1:53
#  ipv6: false
#  enhanced-mode: redir-host
#  default-nameserver:
#    - tls://1.1.1.1
#    - tls://1.0.0.1
#    - tls://8.8.8.8
#    - tls://8.8.4.4
#    - tls://9.9.9.9
#  proxy-server-nameserver:
#    - tls://1.1.1.1
#    - tls://1.0.0.1
#    - tls://8.8.8.8
#    - tls://8.8.4.4
#    - tls://9.9.9.9
#    - https://cloudflare-dns.com/dns-query
#    - https://9.9.9.9/dns-query
#  direct-nameserver:
#    - tls://77.88.8.8#DIRECT
#    - https://77.88.8.8/dns-query#DIRECT
  nameserver:
    - system
#    - https://cloudflare-dns.com/dns-query#PROXY

# === LISTENERS (TUN + mixed) ===
listeners:
  - name: mixed-in
    type: mixed
    port: $MIXED_PORT
  - name: tun-in
    type: tun
    stack: $TUN_STACK
    auto-detect-interface: $TUN_AUTO_DETECT_INTERFACE
    auto-route: $TUN_AUTO_ROUTE
    auto-redirect: $TUN_AUTO_REDIRECT
    inet4-address:
    - $TUN_INET4_ADDRESS

# === –ü–û–î–ü–ò–°–ö–ê –ù–ê –ü–†–û–ö–°–ò ===
proxy-providers:
$PROVIDERS_BLOCK
#    override:
#      tfo: true
#      mptcp: true
#      udp: true

# === –ì–†–£–ü–ü–´ –ü–†–û–ö–°–ò ===
proxy-groups:
# --- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥—Ä—É–ø–ø–∞ –¥–ª—è example.com ---
#- name: CORP-PROXY-FIXED
#  type: select
#  use:
#    - SUB1
#  filter: 'CORP-PROXY' # ‚Üê –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –∏–º—è –Ω—É–∂–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏ –∏–∑ –ø–æ–¥–ø–∏—Å–∫–∏

# –ì–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ä–µ–∂–∏–º–æ–≤.
  - name: SELECTOR
    type: select
    proxies:
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

  # –ì—Ä—É–ø–ø–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–∂–∏–º–∞.
  # –õ–æ–≥–∏–∫–∞: –°–Ω–∞—á–∞–ª–∞ –ø—ã—Ç–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π –ø—Ä–æ–∫—Å–∏ (PROXY FASTEST).
  # –ï—Å–ª–∏ –æ–Ω –ø–∞–¥–∞–µ—Ç, –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –≥—Ä—É–ø–ø—É PROXY FAILOVER, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–±–µ—Ä–µ—Ç –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∂–∏–≤—ã–µ –ø—Ä–æ–∫—Å–∏.
  # –ï—Å–ª–∏ –∏ —Ç–∞–º –≤—Å–µ –º–µ—Ä—Ç–≤—ã, –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ DIRECT.
  - name: PROXY AUTO
    type: fallback
    proxies:
      - PROXY FASTEST
      - PROXY FAILOVER
      - DIRECT
    url: http://www.msftncsi.com/ncsi.txt
    # –ò–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ–±—ã "–æ—Ç–ª–∏–ø–Ω—É—Ç—å" –æ—Ç DIRECT/PROXY FAILOVER –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ PROXY FASTEST
    interval: 200

  # –ì—Ä—É–ø–ø–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ –∏–∑ –ñ–ò–í–´–• –ø—Ä–æ–∫—Å–∏.
  - name: PROXY FASTEST
    type: url-test
    use:
$PROVIDERS_LIST
    url: http://www.msftncsi.com/ncsi.txt
    # –ò–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –ø–µ—Ä–µ—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∂–∏–≤—ã—Ö –ø—Ä–æ–∫—Å–∏ –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏
    interval: 300
    lazy: false

  # –ì—Ä—É–ø–ø–∞ –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ –í–°–ï–• –∂–∏–≤—ã—Ö –ø—Ä–æ–∫—Å–∏ –≤ —Å–ª—É—á–∞–µ –æ—Ç–∫–∞–∑–∞ —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ.
  # –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –º—ã –Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–∏–º—Å—è –Ω–∞ DIRECT, –ø–æ–∫–∞ –µ—Å—Ç—å —Ö–æ—Ç—å –æ–¥–∏–Ω –∂–∏–≤–æ–π –ø—Ä–æ–∫—Å–∏.
  - name: PROXY FAILOVER
    type: fallback
    use:
$PROVIDERS_LIST
    url: http://www.msftncsi.com/ncsi.txt
    interval: 200

  # –ì—Ä—É–ø–ø–∞ –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∏–∑ –ø–æ–¥–ø–∏—Å–∫–∏.
  - name: PROXY MANUAL
    type: select
    use:
$PROVIDERS_LIST

  - name: PROXYRU AUTO
    type: fallback
    proxies:
      - PROXYRU FASTEST
      - PROXYRU FAILOVER
      - DIRECT
    url: http://www.msftncsi.com/ncsi.txt
    filter: '(?i)üá∑üá∫ |RU'  # ‚Üê –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –ø—Ä–µ—Ñ–∏–∫—Å –Ω—É–∂–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏ –∏–∑ –ø–æ–¥–ø–∏—Å–∫–∏
    # –ò–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ–±—ã "–æ—Ç–ª–∏–ø–Ω—É—Ç—å" –æ—Ç DIRECT/PROXY FAILOVER –∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ PROXY FASTEST
    interval: 200

  # –ì—Ä—É–ø–ø–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ –∏–∑ –ñ–ò–í–´–• –ø—Ä–æ–∫—Å–∏.
  - name: PROXYRU FASTEST
    type: url-test
    use:
$PROVIDERS_LIST
    url: http://www.msftncsi.com/ncsi.txt
    filter: '(?i)üá∑üá∫ |RU'
    # –ò–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è –ø–µ—Ä–µ—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –∂–∏–≤—ã—Ö –ø—Ä–æ–∫—Å–∏ –ø–æ —Å–∫–æ—Ä–æ—Å—Ç–∏
    interval: 300
    lazy: false

  # –ì—Ä—É–ø–ø–∞ –¥–ª—è –ø–µ—Ä–µ–±–æ—Ä–∞ –í–°–ï–• –∂–∏–≤—ã—Ö –ø—Ä–æ–∫—Å–∏ –≤ —Å–ª—É—á–∞–µ –æ—Ç–∫–∞–∑–∞ —Å–∞–º–æ–≥–æ –±—ã—Å—Ç—Ä–æ–≥–æ.
  # –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ –º—ã –Ω–µ –ø–µ—Ä–µ–∫–ª—é—á–∏–º—Å—è –Ω–∞ DIRECT, –ø–æ–∫–∞ –µ—Å—Ç—å —Ö–æ—Ç—å –æ–¥–∏–Ω –∂–∏–≤–æ–π –ø—Ä–æ–∫—Å–∏.
  - name: PROXYRU FAILOVER
    type: fallback
    use:
$PROVIDERS_LIST
    url: http://www.msftncsi.com/ncsi.txt
    filter: '(?i)üá∑üá∫ |RU' 
    interval: 200

  # –°–∫—Ä—ã—Ç—å –ª–∏ –≥—Ä—É–ø–ø—É GLOBAL
  - name: GLOBAL
    type: select
    hidden: false
    proxies:
      - PROXY AUTO
      - PROXY MANUAL
      - PROXY FASTEST
      - PROXY FAILOVER
      - DIRECT

# --- –°–∏—Å—Ç–µ–º–Ω—ã–µ –≥—Ä—É–ø–ø—ã ---
  - name: QUIC
    type: select
    proxies:
      - PASS
      - REJECT
# --- –ì—Ä—É–ø–ø—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (–∏–∑ —à–∞–±–ª–æ–Ω–∞) ---
  - name: Telegram
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Telegram.png
    include-all: true
    proxies:
      - SELECTOR
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

  - name: WhatsApp
    type: select
    icon: https://github.com/OMchik33/Whatsapp-icon/blob/master/icons/whatsapp_194x194.png?raw=true
    include-all: true
    proxies:
      - SELECTOR      
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

  - name: Steam
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/Steam.png
    include-all: true
    proxies:
      - SELECTOR    
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

  - name: YouTube
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Color/YouTube.png
    include-all: true
    proxies:
      - SELECTOR
      - PROXYRU AUTO
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º      
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

  - name: Twitch
    type: select
    icon: https://img.icons8.com/3d-fluency/94/twitch.png
    include-all: true    
    proxies:
      - SELECTOR    
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

  - name: AI & –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Bot.png
    include-all: true
    proxies:
      - SELECTOR    
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

  - name: GoogleGemini
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Bot.png
    include-all: true
    proxies:
      - SELECTOR    
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

  - name: OpenAI
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Bot.png
    include-all: true
    proxies:
      - SELECTOR    
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

  - name: Microsoft
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Microsoft.png
    include-all: true
    proxies:
      - SELECTOR    
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

  - name: Anthropic
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Bot.png
    include-all: true
    proxies:
      - SELECTOR    
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

  - name: Perplexity
    type: select
    icon: https://cdn.jsdelivr.net/gh/Koolson/Qure@master/IconSet/Dark/Bot.png
    include-all: true
    proxies:
      - SELECTOR    
      - PROXY AUTO     # –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–∂–∏–º
      - PROXY MANUAL   # –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä
      - DIRECT        # –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø

# === RULE PROVIDERS (–∏–∑ —à–∞–±–ª–æ–Ω–∞) ===
rule-providers:
  telegram-domain:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/telegram.mrs
    path: ./rule-sets/telegram-domain.mrs
    interval: 86400

  telegram-ips:
    type: http
    behavior: ipcidr
    format: yaml
    url: https://raw.githubusercontent.com/OMchik33/custom-rules/refs/heads/main/mihomo/telegram-ips.yaml
    path: ./rule-sets/telegram-ips.yaml
    interval: 86400

  whatsapp-domain:
    type: http
    behavior: domain
    format: mrs
    url: https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/whatsapp.mrs
    path: ./rule-sets/whatsapp-domain.mrs
    interval: 86400

  steam-domain:
    type: http
    behavior: domain
    format: yaml
    url: https://raw.githubusercontent.com/OMchik33/custom-rules/refs/heads/main/mihomo/gaming-domains.yaml
    path: ./rule-sets/steam-domain.yaml
    interval: 86400

  steam-ips:
    type: http
    behavior: ipcidr
    format: yaml
    url: https://raw.githubusercontent.com/OMchik33/custom-rules/refs/heads/main/mihomo/gaming-ips.yaml
    path: ./rule-sets/steam-ips.yaml
    interval: 86400

  twitch-domain:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/twitch.mrs
    path: ./rule-sets/twitch-domain.mrs
    interval: 86400

  discord_domains:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/discord.mrs
    path: ./rule-sets/discord_domains.mrs
    interval: 86400

  google_gemini:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/google-gemini.mrs
    path: ./rule-sets/google-gemini.mrs
    interval: 86400

  openai:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/openai.mrs
    path: ./rule-sets/openai.mrs
    interval: 86400

  microsoft:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/microsoft.mrs
    path: ./rule-sets/mikrosoft.mrs
    interval: 86400      

  anthropic:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/anthropic.mrs
    path: ./rule-sets/anthropic.mrs
    interval: 86400 

  perplexity:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/perplexity.mrs
    path: ./rule-sets/perplexity.mrs
    interval: 86400 

  discord_voiceips:
    type: http
    behavior: ipcidr
    format: mrs
    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/other/discord-voice-ip-list.mrs
    path: ./rule-sets/discord_voiceips.mrs
    interval: 86400

  youtube:
    type: http
    behavior: domain
    format: mrs
    url: https://github.com/MetaCubeX/meta-rules-dat/raw/meta/geo/geosite/youtube.mrs
    path: ./rule-sets/youtube.mrs
    interval: 86400

#  oisd_big:
#    type: http
#    behavior: domain
#    format: mrs
#    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/oisd/big.mrs
#    path: ./oisd/big.mrs
#    interval: 86400

#  ru-bundle:
#    type: http
#    behavior: domain
#    format: mrs
#    url: https://github.com/legiz-ru/mihomo-rule-sets/raw/main/ru-bundle/rule.mrs
#    path: ./ru-bundle/rule.mrs
#    interval: 86400

  github-ai:
    type: inline
    behavior: classical
    format: text
    payload:

# xAI (Grok)
      - DOMAIN-SUFFIX,x.ai
      - DOMAIN-SUFFIX,grok.x.ai
      - DOMAIN-SUFFIX,api.x.ai
      - DOMAIN-KEYWORD,grok

# Hugging Face
      - DOMAIN-SUFFIX,huggingface.co
      - DOMAIN-SUFFIX,hf.co
      - DOMAIN-SUFFIX,huggingface.com
      - DOMAIN-KEYWORD,huggingface

# Midjourney & Creative AI
      - DOMAIN-SUFFIX,midjourney.com
      - DOMAIN-SUFFIX,cdn.midjourney.com
      - DOMAIN-KEYWORD,midjourney
      - DOMAIN-SUFFIX,stability.ai
      - DOMAIN-SUFFIX,stablediffusionweb.com
      - DOMAIN-SUFFIX,dreamstudio.ai
      - DOMAIN-SUFFIX,runwayml.com
      - DOMAIN-SUFFIX,runway.ml

# Character.AI & Others
      - DOMAIN-SUFFIX,character.ai
      - DOMAIN-SUFFIX,beta.character.ai
      - DOMAIN-SUFFIX,replicate.com
      - DOMAIN-SUFFIX,cohere.ai
      - DOMAIN-SUFFIX,cohere.com

# Development Tools
      - DOMAIN-SUFFIX,jetbrains.com
      - DOMAIN-SUFFIX,replit.com
      - DOMAIN-SUFFIX,repl.it
      - DOMAIN-SUFFIX,stackoverflow.com
      - DOMAIN-SUFFIX,docker.com
      - DOMAIN-SUFFIX,docker.io
      - DOMAIN-SUFFIX,npmjs.com
      - DOMAIN-SUFFIX,pypi.org

# === –ü–†–ê–í–ò–õ–ê –ú–ê–†–®–†–£–¢–ò–ó–ê–¶–ò–ò ===
rules:
# --- 1. –ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —Ä–µ—Å—É—Ä—Å: —Å—Ç—Ä–æ–≥–æ —á–µ—Ä–µ–∑ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–∫—Å–∏ ---
#- DOMAIN-SUFFIX,example.com,CORP-PROXY-FIXED
# –õ–æ–∫–∞–ª–∫–∞ –∏ DNS
  - IP-CIDR,192.168.0.0/16,DIRECT,no-resolve
  - IP-CIDR,10.0.0.0/8,DIRECT,no-resolve
  - IP-CIDR,172.16.0.0/12,DIRECT,no-resolve
  - IP-CIDR,127.0.0.0/8,DIRECT,no-resolve

# --- 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —É—è–∑–≤–∏–º—ã—Ö UDP –ø–æ—Ä—Ç–æ–≤ ---
#- AND,((NETWORK,udp),(DST-PORT,135)),REJECT
#- AND,((NETWORK,udp),(DST-PORT,137)),REJECT
#- AND,((NETWORK,udp),(DST-PORT,138)),REJECT
#- AND,((NETWORK,udp),(DST-PORT,139)),REJECT
  - AND,((NETWORK,udp),(DST-PORT,443)),QUIC
# --- 3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ —Å–µ—Ä–≤–∏—Å—ã ---
  - RULE-SET,github-ai,AI & –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
  - OR,((RULE-SET,telegram-domain),(RULE-SET,telegram-ips)),Telegram
  - RULE-SET,whatsapp-domain,WhatsApp
  - OR,((RULE-SET,discord_domains),(RULE-SET,discord_voiceips)),SELECTOR
  - OR,((RULE-SET,steam-domain),(RULE-SET,steam-ips)),Steam
  - RULE-SET,anthropic,Anthropic
  - RULE-SET,perplexity,Perplexity      
  - RULE-SET,google_gemini,GoogleGemini
  - RULE-SET,openai,OpenAI
  - RULE-SET,microsoft,Microsoft   
  - RULE-SET,twitch-domain,Twitch
  - RULE-SET,youtube,YouTube  
#  - RULE-SET,ru-bundle,SELECTOR
# --- 4. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ IP ---
  - OR,((DOMAIN,ipwho.is),(DOMAIN,api.ip.sb),(DOMAIN,ipapi.co),(DOMAIN,ipinfo.io)),SELECTOR
# --- 5. –†–µ–∫–ª–∞–º–∞ ---
#  - RULE-SET,oisd_big,REJECT
# --- 6. TUN –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏ mixed ---
  - IN-NAME,tun-in,SELECTOR
  - IN-NAME,mixed-in,SELECTOR
# --- 7. –í–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π —Ç—Ä–∞—Ñ–∏–∫ ---
  - MATCH,SELECTOR
